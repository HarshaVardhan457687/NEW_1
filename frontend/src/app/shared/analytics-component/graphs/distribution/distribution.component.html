<div class="chart-card">
  <div class="header-container">
    <h2>{{ headerTitle }}</h2>
  </div>
  <div class="chart-container">
    <div class="chart-area">
      <ngx-charts-pie-chart
        [view]="view"
        [scheme]="pieChartColors"
        [results]="pieChartData"
        [gradient]="gradient"
        [labels]="showLabels"
        [doughnut]="isDoughnut"
        (select)="onSelect($event)">
      </ngx-charts-pie-chart>
    </div>
    <div class="custom-legend">
      <div class="legend-item" *ngFor="let item of pieChartData">
        <div class="color-dot" [style.background-color]="getColor(item.name)"></div>
        <span class="legend-label">{{ item.name }} ({{ item.value | number:'1.0-0' }}%)</span>
      </div>
    </div>
  </div>
</div>